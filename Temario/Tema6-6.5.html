<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 6 - Persistiendo Datos</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="../Assets/favicon.ico">
</head>
<body class="container">
    <nav class="mt-1">
        <ul class="nav justify-content-center">
            <li class="nav-item">
            <a class="nav-link" href="../index.html">Inicio</a>
            </li>
            <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./Tema1.html">Tema 1</a>
            </li>
            
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tema 2
                </a>
                <ul class="dropdown-menu">
                    
                  <li><a class="dropdown-item" href="./Tema2.html">Tema 2</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./Tema2-2.1.html">Practica 2.1</a></li>
                  <li><a class="dropdown-item" href="./Tema2-2.2.html">Practica 2.2</a></li>
                  <li><a class="dropdown-item" href="./Tema2-2.3.html">Practica 2.3</a></li>
                  <li><a class="dropdown-item" href="./Tema2-2.4.html">Practica 2.4</a></li>
                  <li><a class="dropdown-item" href="./Tema2-2.5.html">Practica 2.5</a></li>
                </ul>
            </li>

             
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tema 3
                </a>
                <ul class="dropdown-menu">
                    
                  <li><a class="dropdown-item" href="#">Tema 3</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./Tema3-3.1.html">Practica 3.1</a></li>
                  <li><a class="dropdown-item" href="./Tema3-3.2.html">Practica 3.2</a></li>
                  <li><a class="dropdown-item" href="./Tema3-3.3.html">Practica 3.3</a></li>
                </ul>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tema 5
                </a>
                <ul class="dropdown-menu">
                    
                  <li><a class="dropdown-item" href="./Tema5.html">Tema 5</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./Tema5-5.4.html">Uso basico</a></li>
                  <li><a class="dropdown-item" href="./Tema5-5.5.html">Uso avanzado</a></li>
                  <li><a class="dropdown-item" href="./Tema5-5.6.html">Ramas</a></li>
                  <li><a class="dropdown-item" href="./Tema5-5.7.html">Github</a></li>
                  <li><a class="dropdown-item" href="./Tema5-5.8.html">Citar proyectos en Github</a></li>
                  <li><a class="dropdown-item" href="./Tema5-5.9.html">Git Flow</a></li>
                
                </ul>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tema 6
                </a>
                <ul class="dropdown-menu">
                    
                  <li><a class="dropdown-item" href="./Tema6.html">Tema 6</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./Tema6-6.2.html">Instalación</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.3.html">Images</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.4.html">Contenedores</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.5.html">Volumenes</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.6.html">Wordpress Con Docker</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.7.html">Wordpress Con Docker-Compose</a></li>
                  <li><a class="dropdown-item" href="./Tema6-6.8.html">Crear Imagenes Propias</a></li>

                </ul>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tema 7
                </a>
                <ul class="dropdown-menu">
                    
                  <li><a class="dropdown-item" href="./Tema7.html">Tema 7</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./Tema7-7.1.html">CI / CD </a></li>
                  
                </ul>
            </li>

            
        </ul>
    </nav>

<!--content-->
<h1 id="persistiendo-datos">Persistiendo datos</h1>
<p>Por defecto ya hemos indicado que un contenedor está aislado de todo. Hemos visto como podemos conectar el contenedor a un puerto de red para poder acceder a él. Eso incluye al sistema de archivos que contiene. De tal manera que si se elimina el contenedor, se eliminan también sus archivos.</p>
<p>Si queremos almacenar datos (una web, una base de datos, etc.) dentro de un contenedor necesitamos una manera de almacenarlos sin perderlos.</p>
<p>Docker ofrece tres maneras:</p>
<ul>
<li>A través de volúmenes, que son objetos de Docker como las imágenes y los contenedores.</li>
<li>Montando un directorio de la máquina anfitrión dentro del contenedor.</li>
<li>Almacenándolo en la memoria del sistema (aunque también se perderían al reiniciar el servidor).</li>
</ul>
<p>Lo normal es usar volúmenes, pero habrá ocasiones en que es preferible montar directamente un directorio de nuestro espacio de trabajo. Por ejemplo, para guardar los datos de una base de datos usaremos volúmenes, pero para guardar el código de una aplicación o de una página web montaremos el directorio.</p>
<p>La razón para esto último es que tanto nuestro entorno de desarrollo como el contenedor tengan acceso a los archivos del código fuente. Los volúmenes, al contrario que los directorios montados, no deben accederse desde la máquina anfitrión.</p>
<h2 id="crear-un-volumen">Crear un volumen</h2>
<p>Como necesitamos crear una base de datos para nuestro blog con <em>WordPress</em> vamos a crear un volumen donde guardar la información:</p>
<pre><code class="language-console">$ docker volume create wordpress-db
wordpress-db
</code></pre>
<h2 id="listar-volúmenes">Listar volúmenes</h2>
<p>Con <code>docker volume ls</code> podemos visualizar todos los volumenes disponibles.</p>
<pre><code class="language-console">$ docker volume ls
DRIVER              VOLUME NAME
local               wordpress-db
</code></pre>
<h2 id="visualizar-volúmenes">Visualizar volúmenes</h2>
<p>Los volumenes se crean en un directorio del sistema y no es recomendable acceder a él, no al menos mientras haya un contenedor usándolo. En cualquier caso, si queremos ver los metadatos de un volumen podemos usar <code>docker volume inspect</code></p>
<pre><code class="language-console">$ docker volume inspect wordpress-db 
[
    {
        &quot;CreatedAt&quot;: &quot;yyyy-mm-ddThh:ii:ss+Z&quot;,
        &quot;Driver&quot;: &quot;local&quot;,
        &quot;Labels&quot;: {},
        &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/wordpress-db/_data&quot;,
        &quot;Name&quot;: &quot;wordpress-db&quot;,
        &quot;Options&quot;: {},
        &quot;Scope&quot;: &quot;local&quot;
    }
]
</code></pre>
<h2 id="borrar-volumenes">Borrar volumenes</h2>
<p>Como todos los objetos de <em>Docker</em>, los volúmenes también pueden ser borrados, pero solo si no están en uso. Mucha precaución al borrar los volúmenes, porque perderíamos todos los datos que contenga.</p>
<p>Para borrar un contenedor usaremos <code>docker volume rm</code> y el nombre del contenedor.</p>

<!--content-->

    <!-- Footer -->
    <footer class="bg-primary text-white">
        <div class="container p-4">
            <!-- Your content inside the footer -->
        </div>

        <div class="text-center p-3 d-flex justify-content-between" style="background-color: rgba(0, 0, 0, 0.2)">
            <span>© 2023 Copyright Abhijeet Singh</span>
            <a class="text-white" href="https://github.com/iamabhijeet2003">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
                </svg>
            </a>
        </div>
    </footer>

    <!-- Footer -->
</body>
</html>